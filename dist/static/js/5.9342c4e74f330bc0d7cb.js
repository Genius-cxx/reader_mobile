webpackJsonp([5],{WxPD:function(t,e){},o7yQ:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=o("3cXf"),a=o.n(s),i={data:function(){return{books:[],option:[],value:[],isShowCheck:!1}},created:function(){this.getBooks()},methods:{goAdd:function(){this.$router.push({path:"/categories"})},getBooks:function(){var t=[],e=JSON.parse(window.localStorage.getItem("book"))?JSON.parse(window.localStorage.getItem("book")):{};for(var o in e)e[o].cover=this._unEscape(e[o].cover),this.books.push(e[o]),t.push(o);this.option=t},_unEscape:function(t){return t=unescape(t).replace("/agent/","")},showCheck:function(){this.isShowCheck=!0;var t=this.$refs.checklist;this.$refs.delete.style.opacity=1;for(var e=0;e<t.length;e++)t[e].$el.style.display="block"},hideCheck:function(){var t=this.$refs.checklist;this.$refs.delete.style.opacity=0;for(var e=0;e<t.length;e++)t[e].$el.style.display="none";this.isShowCheck=!1},deleteBooks:function(){var t=this.value,e=window.localStorage,o=JSON.parse(e.getItem("book"))?JSON.parse(e.getItem("book")):{};t.forEach(function(e,s){delete o[t[s]]}),e.setItem("book",a()(o)),window.location.reload()},goReadBooks:function(t){this.isShowCheck||this.$router.push({path:"/readBook/"+t})}}},n={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"myBooks"},[o("mt-header",{staticClass:"book-header",attrs:{title:"我的书架"}},[o("router-link",{attrs:{slot:"left",to:"/home"},slot:"left"},[o("mt-button",{attrs:{icon:"back"}},[t._v("返回")])],1),t._v(" "),o("mt-button",{directives:[{name:"show",rawName:"v-show",value:t.books.length,expression:"books.length"}],ref:"Btn",staticClass:"btn",attrs:{slot:"right"},on:{click:t.showCheck},slot:"right"},[t._v("编辑")])],1),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.books.length<8,expression:"books.length<8"}],staticClass:"addBooks"},[o("mt-button",{attrs:{type:"primary"},on:{click:t.goAdd}},[t._v("去添加")])],1),t._v(" "),o("div",{staticClass:"book-list"},t._l(t.books,function(e,s){return o("div",{staticClass:"book-item",on:{click:function(o){return t.goReadBooks(e.id)}}},[o("mt-checklist",{ref:"checklist",refInFor:!0,staticClass:"check",staticStyle:{display:"none"},attrs:{options:[t.option[s]]},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),t._v(" "),o("div",{staticClass:"cover"},[o("img",{attrs:{src:t._unEscape(e.cover)}})]),t._v(" "),o("p",{staticClass:"name"},[t._v(t._s(e.title))])],1)}),0),t._v(" "),o("div",{ref:"delete",staticClass:"delete",staticStyle:{opacity:"0"}},[o("mt-button",{ref:"deleteBtn",staticClass:"deleteBtn",attrs:{type:"primary"},on:{click:t.deleteBooks}},[t._v("删除("+t._s(t.value.length)+")\n    ")]),t._v(" "),o("mt-button",{ref:"qxBtn",staticClass:"deleteBtn",attrs:{type:"default"},on:{click:t.hideCheck}},[t._v("取消")])],1)],1)},staticRenderFns:[]};var c=o("C7Lr")(i,n,!1,function(t){o("WxPD")},"data-v-ca36e1b6",null);e.default=c.exports}});
//# sourceMappingURL=5.9342c4e74f330bc0d7cb.js.map