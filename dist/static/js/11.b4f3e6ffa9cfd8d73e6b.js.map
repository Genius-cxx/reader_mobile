{"version":3,"sources":["webpack:///src/common/booklist-detail.vue","webpack:///./src/common/booklist-detail.vue?6b66","webpack:///./src/common/booklist-detail.vue"],"names":["booklist_detail","data","booklist","title","desc","author","img","upDate","computed","created","this","getBooksList","$route","params","id","methods","latelyFollower","lately","toFixed","imgEscpe","url","unescape","replace","goBooks","$router","push","path","_this","Object","api","then","res","console","log","_time","bookList","updated","books","_unEscape","arr","i","length","cover","time","currentTime","Math","round","Date","parse","floor","common_booklist_detail","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","slot","to","icon","_v","directives","name","rawName","value","expression","src","avatar","alt","_s","nickname","_l","item","on","click","$event","book","_id","cat","comment","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"sHA+CAA,GACAC,KADA,WAEA,OACAC,YACAC,MAAA,GACAC,KAAA,GACAC,UACAC,IAAA,mCACAC,OAAA,KAGAC,YACAC,QAZA,WAaAC,KAAAC,aAAAD,KAAAE,OAAAC,OAAAC,KAEAC,SACAC,eADA,SACAC,GACA,OAAAA,EAAA,KAAAC,QAAA,IAEAC,SAJA,SAIAC,GACA,OAAAC,SAAAD,EAAAE,QAAA,gBAGAC,QARA,SAQAT,GACAJ,KAAAc,QAAAC,MACAC,KAAA,SAAAZ,KAGAH,aAbA,SAaAG,GAAA,IAAAa,EAAAjB,KACMkB,OAAAC,EAAA,EAAAD,CAANd,GAAAgB,KAAA,SAAAC,GACAC,QAAAC,IAAAF,GACAJ,EAAApB,OAAAoB,EAAAO,MAAAH,EAAA9B,KAAAkC,SAAAC,SACAT,EAAAtB,OAAA0B,EAAA9B,KAAAkC,SAAA9B,OACAsB,EAAAvB,KAAA2B,EAAA9B,KAAAkC,SAAA/B,KACAuB,EAAAxB,MAAA4B,EAAA9B,KAAAkC,SAAAhC,MACAwB,EAAAzB,SAAA6B,EAAA9B,KAAAkC,SAAAE,SAGAC,UAvBA,SAuBAC,GACA,QAAAC,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IACAD,EAAAC,GAAAE,MAAArB,SAAAkB,EAAAC,GAAAE,OACAH,EAAAC,GAAAE,MAAAH,EAAAC,GAAAE,MAAApB,QAAA,cAEA,OAAAiB,GAEAL,MA9BA,SA8BAS,GACA,IAAAC,EAAAC,KAAAC,MAAA,IAAAC,KAAA,KAGA,OAFArC,KAAAH,OAAAoC,EAAArB,QAAA,SAAAA,QAAA,SACAZ,KAAAH,OAAAwC,KAAAC,MAAA,IAAAD,KAAArC,KAAAH,SAAA,IACAsC,KAAAI,OAAAL,EAAAlC,KAAAH,QAAA,eC7Fe2C,GADEC,OAFjB,WAA0B,IAAAC,EAAA1C,KAAa2C,EAAAD,EAAAE,eAA0BC,EAAAH,EAAAI,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,kBAA4BF,EAAA,aAAkBE,YAAA,cAAAC,OAAiCvD,MAAA,UAAgBoD,EAAA,eAAoBG,OAAOC,KAAA,OAAAC,GAAA,cAAgCD,KAAA,SAAaJ,EAAA,aAAkBG,OAAOG,KAAA,UAAeT,EAAAU,GAAA,gBAAAV,EAAAU,GAAA,KAAAP,EAAA,OAA+CQ,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAd,EAAA/C,OAAA,SAAA8D,WAAA,oBAAsFV,YAAA,WAAuBF,EAAA,OAAYE,YAAA,eAAyBF,EAAA,OAAYG,OAAOU,IAAAhB,EAAA9C,IAAA8C,EAAA/C,OAAAgE,OAAAC,IAAA,MAA0ClB,EAAAU,GAAA,KAAAP,EAAA,OAAwBE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,SAAmBL,EAAAU,GAAAV,EAAAmB,GAAAnB,EAAA/C,OAAAmE,aAAApB,EAAAU,GAAA,KAAAP,EAAA,OAA8DE,YAAA,aAAuBL,EAAAU,GAAAV,EAAAmB,GAAAnB,EAAA7C,QAAA,SAAA6C,EAAA7C,OAAA,6BAAA6C,EAAAU,GAAA,KAAAP,EAAA,OAA6GE,YAAA,eAAyBF,EAAA,MAAAH,EAAAU,GAAAV,EAAAmB,GAAAnB,EAAAjD,UAAAiD,EAAAU,GAAA,KAAAP,EAAA,OAA6DE,YAAA,SAAmBL,EAAAU,GAAAV,EAAAmB,GAAAnB,EAAAhD,aAAAgD,EAAAU,GAAA,KAAAP,EAAA,OAAuDQ,aAAaC,KAAA,OAAAC,QAAA,SAAAC,MAAAd,EAAAlD,SAAAuC,OAAA,EAAA0B,WAAA,sBAA0FV,YAAA,SAAqBF,EAAA,KAAAH,EAAAqB,GAAArB,EAAA,kBAAAsB,GAA+C,OAAAnB,EAAA,MAAgBoB,IAAIC,MAAA,SAAAC,GAAyB,OAAAzB,EAAA7B,QAAAmD,EAAAI,KAAAC,SAAoCxB,EAAA,OAAYE,YAAA,cAAwBF,EAAA,OAAYE,YAAA,QAAkBF,EAAA,OAAYG,OAAOU,IAAAhB,EAAAjC,SAAAuD,EAAAI,KAAApC,OAAA4B,IAAA,QAA8ClB,EAAAU,GAAA,KAAAP,EAAA,OAA0BE,YAAA,eAAyBF,EAAA,MAAAH,EAAAU,GAAAV,EAAAmB,GAAAG,EAAAI,KAAA3E,UAAAiD,EAAAU,GAAA,KAAAP,EAAA,OAAmEE,YAAA,cAAwBF,EAAA,QAAAH,EAAAU,GAAAV,EAAAmB,GAAAG,EAAAI,KAAAzE,WAAA+C,EAAAU,GAAA,OAAAP,EAAA,QAAAH,EAAAU,GAAAV,EAAAmB,GAAAG,EAAAI,KAAAE,QAAA5B,EAAAU,GAAA,OAAAP,EAAA,QAAkIE,YAAA,SAAmBL,EAAAU,GAAAV,EAAAmB,GAAAnB,EAAApC,eAAA0D,EAAAI,KAAA9D,oBAAAoC,EAAAU,GAAA,2BAAAV,EAAAU,GAAA,KAAAP,EAAA,OAAyHE,YAAA,iBAA2BL,EAAAU,GAAAV,EAAAmB,GAAAG,EAAAO,gBAAmC,UAE7zDC,oBCCjB,IAcAC,EAdyBC,EAAQ,OAcjCC,CACErF,EACAkD,GATF,EAVA,SAAAoC,GACEF,EAAQ,SAaV,kBAEA,MAUeG,EAAA,QAAAJ,EAAiB","file":"static/js/11.b4f3e6ffa9cfd8d73e6b.js","sourcesContent":["<template>\n  <div class=\"booklist-item\">\n    <mt-header title=\"书单详情\" class=\"book-header\">\n      <router-link to=\"/bookLists\" slot=\"left\">\n        <mt-button icon=\"back\">返回</mt-button>\n      </router-link>\n    </mt-header>\n    <div class=\"author\" v-show=\"author.nickname\">\n      <div class=\"author-top\">\n        <img :src=\"img+author.avatar\" alt=\"\">\n        <div class=\"top-right\">\n          <div class=\"name\">{{author.nickname}}</div>\n          <div class=\"lastTime\">{{upDate <= 0 ? '刚刚更新' : `${upDate}小时前更新`}}\n          </div>\n        </div>\n      </div>\n      <div class=\"author-des\">\n        <h1>{{title}}</h1>\n        <div class=\"desc\">{{desc}}</div>\n      </div>\n    </div>\n    <div class=\"item\" v-show=\"booklist.length>0\">\n      <ul>\n        <li @click=\"goBooks(item.book._id)\" v-for=\"item in booklist\">\n          <div class=\"book-info\">\n            <div class=\"img\">\n              <img :src=\"imgEscpe(item.book.cover)\"\n                   alt=\"\">\n            </div>\n            <div class=\"book-right\">\n              <h1>{{item.book.title}}</h1>\n              <div class=\"book-data\">\n                <span>{{item.book.author}}</span> | <span>{{item.book.cat}}</span> | <span\n                class=\"c-rq\">{{latelyFollower(item.book.latelyFollower)}}</span>万人气\n              </div>\n\n            </div>\n\n          </div>\n          <div class=\"book-comment\">{{item.comment}}</div>\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n<script type=\"text/ecmascript-6\">\n  import {bookListsInfo} from '../api/api'\n  export default{\n    data(){\n      return {\n        booklist: [],\n        title: '',\n        desc: '',\n        author: {},\n        img: 'http://statics.zhuishushenqi.com',\n        upDate: ''\n      }\n    },\n    computed: {},\n    created(){\n      this.getBooksList(this.$route.params.id)\n    },\n    methods: {\n      latelyFollower (lately) {\n        return (lately / 10000).toFixed(1)\n      },\n      imgEscpe(url){\n        return unescape(url.replace(\"/agent/\", \"\"));\n\n      },\n      goBooks(id){\n        this.$router.push({\n          path: `/book/${id}`\n        });\n      },\n      getBooksList(id){\n        bookListsInfo(id).then((res)=>{\n            console.log(res)\n          this.upDate = this._time(res.data.bookList.updated);\n          this.author = res.data.bookList.author;\n          this.desc = res.data.bookList.desc;\n          this.title = res.data.bookList.title;\n          this.booklist = res.data.bookList.books\n        })\n      },\n      _unEscape(arr){\n        for (let i = 0; i < arr.length; i++) {\n          arr[i].cover = unescape(arr[i].cover);\n          arr[i].cover = arr[i].cover.replace(\"/agent/\", \"\")\n        }\n        return arr\n      },\n      _time(time){\n        let currentTime = Math.round(new Date() / 1000);\n        this.upDate = time.replace(\"T\", ' ').replace(\"Z\", ' ');\n        this.upDate = Date.parse(new Date(this.upDate)) / 1000;\n        return Math.floor((currentTime - this.upDate) % 86400 / 3600)\n      },\n    }\n  }\n</script>\n<style scoped lang=\"stylus\" rel=\"stylesheet/stylus\">\n  .booklist-item\n    position fixed\n    left 0\n    top 0\n    right 0\n    bottom 0\n    width 100%\n    z-index 100\n    background #fff\n    overflow-y scroll\n    max-width: 750px; /*no*/\n    margin: 0 auto;\n    .book-header\n      height 100px\n      line-height 100px\n      font-size 25px\n      background #409eff\n      width 100%\n    .author\n      padding 30px\n      position relative\n      box-sizing border-box\n      border-bottom 1px solid #ebebeb; /*no*/\n      .author-top\n        height 80px\n        img\n          width 70px\n          height 70px\n          position absolute\n          left 30px\n          top 30px\n        .top-right\n          margin-left 80px\n          .name\n            margin-bottom 10px\n\n      .author-des\n        h1\n          line-height 80px;\n          height 80px\n          font-size 25px\n        .desc\n          line-height 40px\n          color #999\n    .item\n      .book-info\n        padding 30px\n        display flex\n\n        box-sizing border-box\n        .img\n          height 140px\n          width 100px\n          margin-right 30px\n          overflow hidden\n          background url('../assets/images/default.jpg') no-repeat\n          background-position 50%\n          background-size 100%\n          img\n            max-width 100%\n        .book-right\n          flex 1\n          h1\n            line-height 80px\n            height 80px\n            font-size 25px\n          .book-data\n            color #999\n          .c-rq\n            color red\n      .book-comment\n        line-height 40px\n        padding 0 30px 30px 30px\n        border-bottom 1px solid #ebebeb\n        color #999\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/common/booklist-detail.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"booklist-item\"},[_c('mt-header',{staticClass:\"book-header\",attrs:{\"title\":\"书单详情\"}},[_c('router-link',{attrs:{\"slot\":\"left\",\"to\":\"/bookLists\"},slot:\"left\"},[_c('mt-button',{attrs:{\"icon\":\"back\"}},[_vm._v(\"返回\")])],1)],1),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.author.nickname),expression:\"author.nickname\"}],staticClass:\"author\"},[_c('div',{staticClass:\"author-top\"},[_c('img',{attrs:{\"src\":_vm.img+_vm.author.avatar,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"top-right\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.author.nickname))]),_vm._v(\" \"),_c('div',{staticClass:\"lastTime\"},[_vm._v(_vm._s(_vm.upDate <= 0 ? '刚刚更新' : (_vm.upDate + \"小时前更新\"))+\"\\n        \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"author-des\"},[_c('h1',[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('div',{staticClass:\"desc\"},[_vm._v(_vm._s(_vm.desc))])])]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.booklist.length>0),expression:\"booklist.length>0\"}],staticClass:\"item\"},[_c('ul',_vm._l((_vm.booklist),function(item){return _c('li',{on:{\"click\":function($event){return _vm.goBooks(item.book._id)}}},[_c('div',{staticClass:\"book-info\"},[_c('div',{staticClass:\"img\"},[_c('img',{attrs:{\"src\":_vm.imgEscpe(item.book.cover),\"alt\":\"\"}})]),_vm._v(\" \"),_c('div',{staticClass:\"book-right\"},[_c('h1',[_vm._v(_vm._s(item.book.title))]),_vm._v(\" \"),_c('div',{staticClass:\"book-data\"},[_c('span',[_vm._v(_vm._s(item.book.author))]),_vm._v(\" | \"),_c('span',[_vm._v(_vm._s(item.book.cat))]),_vm._v(\" | \"),_c('span',{staticClass:\"c-rq\"},[_vm._v(_vm._s(_vm.latelyFollower(item.book.latelyFollower)))]),_vm._v(\"万人气\\n            \")])])]),_vm._v(\" \"),_c('div',{staticClass:\"book-comment\"},[_vm._v(_vm._s(item.comment))])])}),0)])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler?{\"id\":\"data-v-068a45ef\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.3@vue-loader/lib/selector.js?type=template&index=0!./src/common/booklist-detail.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-068a45ef\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!px2rem-loader?{\\\"remUnit\\\":75}!stylus-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=styles&index=0!./booklist-detail.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./booklist-detail.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=script&index=0!./booklist-detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-068a45ef\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.7.3@vue-loader/lib/selector?type=template&index=0!./booklist-detail.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-068a45ef\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/booklist-detail.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}